interactions:
- request:
    body: '{"name": "king_arthur.txt"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '27'
      User-Agent:
      - PubNub-Python/4.6.1
    method: POST
    uri: https://ps.pndsn.com/v1/files/sub-c-mock-key/channels/files_native_threads_ch/generate-upload-url?uuid=files_threads_uuid
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xV25KiSBD9lQ1fZ2iruKj0xjzYeIMGVEBAdjeMAoqbXBwpVJyYf99Cu3vc6Zd9
        KKnMOpl5MuuAP3o1QaSpe88sAF97ISKo9/yjl4a95x4eBRwY8hwzQPyQ4UWBZ0R2GDACL47YIRCH
        rC/0vvZKVGCK3qdlvENHkjTHJ3IhvZ9fe1Ga411zyCsU7o74e4Nr0iVvjjnFJ4Qc6ud+/9D4ZeMz
        RYmLqm5LzHRRNYMbJsAlOaKcgczhGD7V3BMq0LUq0bl+CqqiT0sXmCRVR3W1NC1q48shPSKSVuWO
        dtKxYgELGAgZKFoseIbgmeM9CoyqY7GLUpyHtPO/fvT2uKVgguKYdkHPTyhvuvC/GwC4wLr7bwb+
        cJmY/OZ5NF9xezeXfoYDYlmqXE5QW99P+x/Hd9vu6t0d8A3x4Hrz/Fah/5lD/z9M6RW8d9b9/uqq
        pvMOmGA0Ynk2QgzkEKYzwj7jBxxPxz6IQnEwRJEo9DM0ifeMGOxeRqkQ7E4v2Wa5XkeqVZUntR1q
        cmENC28XVNK6/3/00v8sk3eOUlUSeuOM1R7wA1mCL6R/yFFa/vlHkKBjjcm3hkTM6CHUZcbFlZGO
        OKQJUpQ/hI9f5fF2ON4M5uuJ8Oq8mNxs3u9UASEU+48q69dcn2qL/5Dq7/lNHDTHlLSMVe1x+VDj
        E3KcxxVFJsUjEcfkmYU2lhhzMWaFwaegSafYX/h3jlS3EHSq/YVfVXkaPF6oVNavkqnkePFyCIoZ
        QI7YyFkVy5l81rIx0awpXfmG7geaRdfVQHJ67mIynxX2yDUO9HntYpxzpUhunW5LO0OsDW55yhe4
        LQS4TSHxC5v4nC74xYZ4RV57rkY8d0O2rN2ECyXxJXBR3ZfWkxRRHdNcdp167jRVpXGqLIzEY8OD
        XwQ3ezX7sL/c9lDPwwk/suezcpVdVM/df7FY5bvn6MCeGZrpCNOtm19Xkng7W828xF/Y+SqbjlT4
        vj+f7vH354b28L732LzxrnzqmrT3de7LhX2hc4jl1DjSfDdOAWenqqOR7TXmtWzdekU3Oz3xTHDR
        nO5MybTrmva7Yb1iLehZmHjZHqrsITHm4VG18swFMo8sO3M5T0K5vdrYs8KaGSe/9DRshbrpwI3O
        QuSy+mkNpyfPSmjOMadPNKIXU6C3ACytDVCtfauz1GetheVE5rTJntMKmdYidGZhtHUVgBZ2q5YG
        H0pK+D7vLSs24ZzehwRrzxHKcB4TqovGYzddj2e6YNfbchKfP2ZR6qDLF7T0e+Aa1dtcJlQXgOYA
        qm0IwfwWn8o5qKV4r+BW4VVnRnAKs6Cw9x0OObP6ppn9TDU3M08HM1vfh4YxsVUbKJYGvIV6veny
        QnUpqKwNVUfP/dJot86ZaKZ41VoxCTkNuJySB66dB9w6je48h3IZk60DB6qr51vObilXQXWNE9Xq
        XfPpm+6ohrEEE9+tKP5S+pxyCOcJeePmbugdmlP4sm6hZU6nrW5tP9dwjCSkPS/TcUr5ttpkenl7
        jy7aRANOKsfRulLc9UGU4m/fPn8y0rikf6/HxxcbjDAnIjjgBcTBKGR5NPIBF/lIEPloFGHIhxCE
        IRA4BPGIFyM2Gol+GLHDMOQ4QL97//z8+S8AAAD//wMA6mDmxbgHAAA=
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Nov 2020 20:09:34 GMT
      Vary:
      - Accept-Encoding
    status:
      code: 200
      message: OK
- request:
    body: "--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      tagging\"\r\n\r\n<Tagging><TagSet><Tag><Key>ObjectTTLInDays</Key><Value>1</Value></Tag></TagSet></Tagging>\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      key\"\r\n\r\nsub-c-mock-key/jaDgk-9c_B8i5c_vBjUOQQfLTonvLy7MImT7mZ_coCQ/e8c30743-6a47-4954-927c-5498270972b5/king_arthur.txt\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      Content-Type\"\r\n\r\ntext/plain; charset=utf-8\r\n--0600e76375c9a562f09ba9f264f9c2ef\r\
      \nContent-Disposition: form-data; name=\"X-Amz-Credential\"\r\n\r\nAKIAY7AU6GQD5KWBS3FG/20201119/eu-central-1/s3/aws4_request\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      X-Amz-Security-Token\"\r\n\r\n\r\n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition:\
      \ form-data; name=\"X-Amz-Algorithm\"\r\n\r\nAWS4-HMAC-SHA256\r\n--0600e76375c9a562f09ba9f264f9c2ef\r\
      \nContent-Disposition: form-data; name=\"X-Amz-Date\"\r\n\r\n20201119T201034Z\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      Policy\"\r\n\r\nCnsKCSJleHBpcmF0aW9uIjogIjIwMjAtMTEtMTlUMjA6MTA6MzRaIiwKCSJjb25kaXRpb25zIjogWwoJCXsiYnVja2V0IjogInB1Ym51Yi1tbmVtb3N5bmUtZmlsZXMtZXUtY2VudHJhbC0xLXByZCJ9LAoJCVsiZXEiLCAiJHRhZ2dpbmciLCAiPFRhZ2dpbmc+PFRhZ1NldD48VGFnPjxLZXk+T2JqZWN0VFRMSW5EYXlzPC9LZXk+PFZhbHVlPjE8L1ZhbHVlPjwvVGFnPjwvVGFnU2V0PjwvVGFnZ2luZz4iXSwKCQlbImVxIiwgIiRrZXkiLCAic3ViLWMtYzg4MjQyZmEtMTNhZS0xMWViLWJjMzQtY2U2ZmQ5NjdhZjk1L2phRGdrLTljX0I4aTVjX3ZCalVPUVFmTFRvbnZMeTdNSW1UN21aX2NvQ1EvZThjMzA3NDMtNmE0Ny00OTU0LTkyN2MtNTQ5ODI3MDk3MmI1L2tpbmdfYXJ0aHVyLnR4dCJdLAoJCVsiY29udGVudC1sZW5ndGgtcmFuZ2UiLCAwLCA1MjQyODgwXSwKCQlbInN0YXJ0cy13aXRoIiwgIiRDb250ZW50LVR5cGUiLCAiIl0sCgkJeyJ4LWFtei1jcmVkZW50aWFsIjogIkFLSUFZN0FVNkdRRDVLV0JTM0ZHLzIwMjAxMTE5L2V1LWNlbnRyYWwtMS9zMy9hd3M0X3JlcXVlc3QifSwKCQl7IngtYW16LXNlY3VyaXR5LXRva2VuIjogIiJ9LAoJCXsieC1hbXotYWxnb3JpdGhtIjogIkFXUzQtSE1BQy1TSEEyNTYifSwKCQl7IngtYW16LWRhdGUiOiAiMjAyMDExMTlUMjAxMDM0WiIgfQoJXQp9Cg==\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      X-Amz-Signature\"\r\n\r\n08e39a1645a31fd24a8b03fba594f8fe14d10dd053a1e849f2f89bdf27dd3308\r\
      \n--0600e76375c9a562f09ba9f264f9c2ef\r\nContent-Disposition: form-data; name=\"\
      file\"; filename=\"king_arthur.txt\"\r\n\r\nKnights who say Ni!\r\n--0600e76375c9a562f09ba9f264f9c2ef--\r\
      \n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2314'
      Content-Type:
      - multipart/form-data; boundary=0600e76375c9a562f09ba9f264f9c2ef
      User-Agent:
      - PubNub-Python/4.6.1
    method: POST
    uri: https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/
  response:
    body:
      string: ''
    headers:
      Date:
      - Thu, 19 Nov 2020 20:09:35 GMT
      ETag:
      - '"3676cdb7a927db43c846070c4e7606c7"'
      Location:
      - https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/sub-c-mock-key%2FjaDgk-9c_B8i5c_vBjUOQQfLTonvLy7MImT7mZ_coCQ%2Fe8c30743-6a47-4954-927c-5498270972b5%2Fking_arthur.txt
      Server:
      - AmazonS3
      x-amz-expiration:
      - expiry-date="Sat, 21 Nov 2020 00:00:00 GMT", rule-id="Archive file 1 day after
        creation"
      x-amz-id-2:
      - hn0PjJhB0EdzljaOFL+jcMfAqAYz7ngdBwQxeTcT2igcP+Gn+4ji6Lzr3ryl0gIvbO4lKibOr2U=
      x-amz-request-id:
      - 31C942097C094481
      x-amz-server-side-encryption:
      - AES256
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PubNub-Python/4.6.1
    method: GET
    uri: https://ps.pndsn.com/v1/files/publish-file/pub-c-mock-key/sub-c-mock-key/0/files_native_threads_ch/0/%7B%22message%22%3A%20%7B%22test_message%22%3A%20%22test%22%7D%2C%20%22file%22%3A%20%7B%22id%22%3A%20%22e8c30743-6a47-4954-927c-5498270972b5%22%2C%20%22name%22%3A%20%22king_arthur.txt%22%7D%7D?meta=null&store=1&ttl=222&uuid=files_threads_uuid
  response:
    body:
      string: '[1,"Sent","16058165752026073"]'
    headers:
      Access-Control-Allow-Methods:
      - GET
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '30'
      Content-Type:
      - text/javascript; charset="UTF-8"
      Date:
      - Thu, 19 Nov 2020 20:09:35 GMT
    status:
      code: 200
      message: OK
version: 1
